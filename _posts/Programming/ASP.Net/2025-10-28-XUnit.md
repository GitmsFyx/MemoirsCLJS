---
categories: ASP.net
---
# XUnit
在解决方案创建新项目选择`XUnit`

>[!IMPORTANT]
>每个测试用例默认独立执行,不会互相影响

创建一个方法
```C#
class MyMath
{
    public int Add(int a, int b)
    {
        return a + b;
    }
}
```
测试类  
将实际输出和期望输出对比.查看方法是否正确.
```C#
public class UnitTest1
{
    //由Fact修饰,说明它是一个测试方法
    [Fact]
    public void Test1()
    {
        //Arrange 准备
        MyMath mm = new MyMath();
        int input1 = 10, input2 = 5;
        int expected = 15;
        
        //Act 执行
        int actual=mm.Add(input1, input2);
        
        //Assert 断言
        Assert.Equal(expected, actual);
    }
}
```

将鼠标放在`Test1()`上右键运行单元测试.自动跳出测试窗口.

可以用`#region`划分区域

## 断言方法
```C#
#Assert

//断言抛出异常,ArgumentException参数错误
Assert.Throws<ArgumentException>(() =>{method()});

//断言为空
Assert.Empty(args);

//args1是否包含在args2中
//Warning:这里用的是Equals()方法,引用类型比较的是地址
Assert.Contains(args1,args2);

//断言为null
Assert.Null();
```

## 打印

```C#
private readonly ITestOutputHelper _testOutputHelper;

//内置
public PersonsesServiceTest(ITestOutputHelper testOutputHelper)
{
    _testOutputHelper = testOutputHelper;
}

//打印
_testOutputHelper.WriteLine("Expected:");
_testOutputHelper.WriteLine(personResponse1.ToString());
_testOutputHelper.WriteLine(personResponse2.ToString());
```

其实就是和`cw`差不多,只不过是打印到单元测试那里。

## 工具

* Rider -> 工具 -> 生成GUID
* Mockaroo网站